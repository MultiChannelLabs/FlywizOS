
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>List Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="diagram.html" />
    
    
    <link rel="prev" href="pointer.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    About us
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="system_introdoction.html">
            
                <a href="system_introdoction.html">
            
                    
                    FlywizOS system introduction
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Development Process
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="docs_brief.html">
            
                <a href="docs_brief.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="download.html">
            
                <a href="download.html">
            
                    
                    Environmental installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="flywizOS_ide_snapshot.html">
            
                <a href="flywizOS_ide_snapshot.html">
            
                    
                    First use
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="flywizOS_ide_layout_introduce.html">
            
                <a href="flywizOS_ide_layout_introduce.html">
            
                    
                    Work area introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="new_flywizOS_project.html">
            
                <a href="new_flywizOS_project.html">
            
                    
                    New project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="import_project.html">
            
                <a href="import_project.html">
            
                    
                    Import project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="new_flywizOS_ui_file.html">
            
                <a href="new_flywizOS_ui_file.html">
            
                    
                    New UI file
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="how_to_compile_flywizOS.html">
            
                <a href="how_to_compile_flywizOS.html">
            
                    
                    Compile project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="run_project.html">
            
                <a href="run_project.html">
            
                    
                    Run project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="project_structure.html">
            
                <a href="project_structure.html">
            
                    
                    Project structure introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="ftu_and_source_relationships.html">
            
                <a href="ftu_and_source_relationships.html">
            
                    
                    UI file and generated code explanation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="named_rule.html">
            
                <a href="named_rule.html">
            
                    
                    Control naming rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="editor_tip.html">
            
                <a href="editor_tip.html">
            
                    
                    Common skills in development tools
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Control introduction</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="ctrl_common.html">
            
                <a href="ctrl_common.html">
            
                    
                    General property
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="textview.html">
            
                <a href="textview.html">
            
                    
                    Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="button.html">
            
                <a href="button.html">
            
                    
                    Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="checkbox.html">
            
                <a href="checkbox.html">
            
                    
                    Checkbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="radiogroup.html">
            
                <a href="radiogroup.html">
            
                    
                    RadioGroup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="seekbar.html">
            
                <a href="seekbar.html">
            
                    
                    Seek Bar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="pointer.html">
            
                <a href="pointer.html">
            
                    
                    Pointer
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.8" data-path="listview.html">
            
                <a href="listview.html">
            
                    
                    List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="diagram.html">
            
                <a href="diagram.html">
            
                    
                    Diagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="circlebar.html">
            
                <a href="circlebar.html">
            
                    
                    Circle Bar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="qrcode.html">
            
                <a href="qrcode.html">
            
                    
                    QR Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="video.html">
            
                <a href="video.html">
            
                    
                    Video View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="edittext.html">
            
                <a href="edittext.html">
            
                    
                    Edit Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="window.html">
            
                <a href="window.html">
            
                    
                    Window
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="slidewindow.html">
            
                <a href="slidewindow.html">
            
                    
                    Slide Window
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="painter.html">
            
                <a href="painter.html">
            
                    
                    Painter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="camera.html">
            
                <a href="camera.html">
            
                    
                    Camera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="digital_clock.html">
            
                <a href="digital_clock.html">
            
                    
                    Digital Clock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="relation_function.html">
            
                <a href="relation_function.html">
            
                    
                    Introduction to correlation functions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Activity interaction</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="first_app.html">
            
                <a href="first_app.html">
            
                    
                    The first startup activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="open_close_app.html">
            
                <a href="open_close_app.html">
            
                    
                    Open/close application activity 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="activity_life_cycle.html">
            
                <a href="activity_life_cycle.html">
            
                    
                    Activity life cycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="internal_app.html">
            
                <a href="internal_app.html">
            
                    
                    System built-in activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="system_app.html">
            
                <a href="system_app.html">
            
                    
                    System application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="timer.html">
            
                <a href="timer.html">
            
                    
                    Timer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="how_to_register_timer.html">
            
                <a href="how_to_register_timer.html">
            
                    
                    Manually start/stop the timer 
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7" >
            
                <span>
            
                    
                    Serial communication
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.1" data-path="linux_serial_programming.html">
            
                <a href="linux_serial_programming.html">
            
                    
                    Linux serial programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.2" data-path="serial_introdoction.html">
            
                <a href="serial_introdoction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.3" data-path="serial_framework.html">
            
                <a href="serial_framework.html">
            
                    
                    Communication frame explanation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.4" data-path="serial_example.html">
            
                <a href="serial_example.html">
            
                    
                    Communication case practice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.5" data-path="serial_configuration.html">
            
                <a href="serial_configuration.html">
            
                    
                    Serial port configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.6" data-path="multiuart.html">
            
                <a href="multiuart.html">
            
                    
                    Multiple serial port configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.8" >
            
                <span>
            
                    
                    Network control
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.8.1" data-path="wifi.html">
            
                <a href="wifi.html">
            
                    
                    WIFI setting 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8.2" data-path="wifi_ap.html">
            
                <a href="wifi_ap.html">
            
                    
                    Hotspot setting 
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.9" >
            
                <span>
            
                    
                    Multimedia
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.9.1" data-path="video.html">
            
                <a href="video.html">
            
                    
                    Video playback 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.2" data-path="audio.html">
            
                <a href="audio.html">
            
                    
                    Audio playback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="thread.html">
            
                <a href="thread.html">
            
                    
                    Thread
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.10.1" data-path="mutex.html">
            
                <a href="mutex.html">
            
                    
                    Mutex
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="screenshot.html">
            
                <a href="screenshot.html">
            
                    
                    Screenshot
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">System operation</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="data.html">
            
                <a href="data.html">
            
                    
                    data storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="vireeprom.html">
            
                <a href="vireeprom.html">
            
                    
                    Emulated EEPROM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="brightness.html">
            
                <a href="brightness.html">
            
                    
                    Screen backlight operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="system_time.html">
            
                <a href="system_time.html">
            
                    
                    System time
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="machine_unique_id.html">
            
                <a href="machine_unique_id.html">
            
                    
                    Device unique ID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="tf.html">
            
                <a href="tf.html">
            
                    
                    TF card
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="mount.html">
            
                <a href="mount.html">
            
                    
                    Plug-in card monitoring
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="gpio.html">
            
                <a href="gpio.html">
            
                    
                    GPIO operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="spi.html">
            
                <a href="spi.html">
            
                    
                    SPI operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="i2c.html">
            
                <a href="i2c.html">
            
                    
                    I2C operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="adc.html">
            
                <a href="adc.html">
            
                    
                    ADC operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="reboot.html">
            
                <a href="reboot.html">
            
                    
                    Reboot the system
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Globalization</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="i18n.html">
            
                <a href="i18n.html">
            
                    
                    Multiple language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" >
            
                <span>
            
                    
                    Upgrade and debugging
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="adb_debug.html">
            
                <a href="adb_debug.html">
            
                    
                    ADB debug 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="logcat.html">
            
                <a href="logcat.html">
            
                    
                    View print log
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.3" data-path="start_from_sdcard.html">
            
                <a href="start_from_sdcard.html">
            
                    
                    Start the program from the TF card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.4" data-path="update_logo.html">
            
                <a href="update_logo.html">
            
                    
                    Upgrade boot LOGO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.5" data-path="make_image.html">
            
                <a href="make_image.html">
            
                    
                    Make upgrade image file
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.6" data-path="autoupgrade.html">
            
                <a href="autoupgrade.html">
            
                    
                    auto update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.7" data-path="sd_boot.html">
            
                <a href="sd_boot.html">
            
                    
                    Make swipe card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.8" data-path="remote_update.html">
            
                <a href="remote_update.html">
            
                    
                    Remote upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="demo_download.html">
            
                <a href="demo_download.html">
            
                    
                    Sample code
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Linux standard programming</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="file_read_write.html">
            
                <a href="file_read_write.html">
            
                    
                    File read and write
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" >
            
                <span>
            
                    
                    Network programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.2.1" data-path="net.html">
            
                <a href="net.html">
            
                    
                    Socket programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2.2" data-path="http.html">
            
                <a href="http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="transcoding.html">
            
                <a href="transcoding.html">
            
                    
                    Transcoding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="json.html">
            
                <a href="json.html">
            
                    
                    JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" >
            
                <span>
            
                    
                    Appendix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.5.1" data-path="cpp_base.html">
            
                <a href="cpp_base.html">
            
                    
                    C++ basic 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.2" data-path="touchcalibration.html">
            
                <a href="touchcalibration.html">
            
                    
                    Touch calibration 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.3" data-path="font_setting.html">
            
                <a href="font_setting.html">
            
                    
                    Font setting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.4" data-path="font_cut_tool.html">
            
                <a href="font_cut_tool.html">
            
                    
                    Font cutting 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.5" data-path="hardware.html">
            
                <a href="hardware.html">
            
                    
                    Hardware instructions 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.6" data-path="problems.html">
            
                <a href="problems.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.7" data-path="install_adb_driver.html">
            
                <a href="install_adb_driver.html">
            
                    
                    install ADB driver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.8" data-path="convert_platform.html">
            
                <a href="convert_platform.html">
            
                    
                    Convert platform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.9" data-path="board_tag_explain.html">
            
                <a href="board_tag_explain.html">
            
                    
                    Product specification and model description
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5.10" data-path="core_module.html">
            
                <a href="core_module.html">
            
                    
                    Core module usage tutorial
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >List</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="list-control">List control</h1>
<h2 id="function">Function</h2>
<p>The list control is often used when a page cannot display all the information, and there are some consistent attribute classifications in each unit information.</p>
<h2 id="scenes">Scenes</h2>
<p>WiFi list, device list, table information</p>
<h2 id="how-to-use">How to use</h2>
<ol>
<li><p>Open the UI file, create a list control, and add two list item controls to the list. Then you can see the appearance style of the list. The specific operations are as follows:
<img src="assets/list/add_list.gif" alt=""></p>
</li>
<li><p>Select the list, you can see that it has the following properties<br><img src="assets/list/properties.png" alt="">   </p>
<p>You can try to modify each property, and then download the program to the machine to view the specific changes.  </p>
</li>
<li><p>Now go to the outline view   </p>
<p><img src="assets/list/list_outline.png" alt=""></p>
<p>You can see that an <strong>Item</strong> node is generated by default under the list, which represents a row or column of the list, and <strong>Item</strong> contains the two <strong>ListSub</strong> nodes we added.<br>You can click to select each node to view their respective properties, and the scope of their effects can be seen on the preview.<br><strong>Note: Each list control can add up to 32 list items. </strong></p>
<p>The properties of <strong>Item</strong> and <strong>List Subitem</strong> controls are similar to the <strong>Button</strong> controls.
You can modify their properties separately and adjust the style. Below is the modified result using the example : </p>
<p><img src="assets/list/preview.png" alt="">  </p>
</li>
<li>After adjusting the general appearance of the list in the UI file, compile <a href="how_to_compile_flywizOS.html#how_to_compile_flywizOS">(How to compile the FlywizOS project)</a>. In the automatically generated correlation function, we need to add specific logic code to draw the specific content of the list.</li>
<li>After compiling, in the corresponding Logic.cc source file, each list control will generate three related functions.<ul>
<li><code>int getListItemCount_ListView1()</code>&#xFF1A; Get the length of the list to be drawn<br>  For example: there are 100 data to be displayed, then 100 is returned.</li>
<li><code>void obtainListItemData_List1</code>&#xFF1A; Set the specific display content of each item in the list
For specific examples, see follow-up documents
The above two functions jointly control the display content of the list.</li>
<li><code>onListItemClick_List1</code>&#xFF1A; Click event of list control
When clicking on an item in the list, the system will call this function, and the parameter index represents the index value of the currently clicked list item.  </li>
</ul>
</li>
</ol>
<h2 id="list-drawing-process">List drawing process</h2>
<ol>
<li><p>When we want to draw a list, the system first needs to know how many items it has in total, so we provide the <code>int getListItemCount_ListView1()</code> function, which will be called by the system to get the length of the list (the total number of items), Note that this function is dynamically obtained. During the running of the program, we can return different values according to needs, and then we can dynamically control the length of the list.   </p>
</li>
<li><p>Then, the system will call the function <code>void obtainListItemData_ListView1(ZKListView *pListView,ZKListView::ZKListItem *pListItem, int index)</code> multiple times. For each call, we can use the pointer provided by the parameter in this function to control the specific content of each item in detail.</p>
</li>
</ol>
<ul>
<li><strong>Example 1. Set the display content of the list item</strong><pre><code class="lang-C++"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">obtainListItemData_ListView1</span><span class="hljs-params">(ZKListView *pListView,ZKListView::ZKListItem *pListItem, <span class="hljs-keyword">int</span> index)</span> </span>{
  <span class="hljs-comment">//The pListItem pointer represents a list item, which can only be used in this function</span>
  <span class="hljs-keyword">char</span> buf[<span class="hljs-number">32</span>] = {<span class="hljs-number">0</span>};
  <span class="hljs-comment">//The parameter index indicates which item of the list is currently drawn, starting from 0.</span>
  <span class="hljs-comment">//Here, we format the index value into a string</span>
  <span class="hljs-built_in">snprintf</span>(buf, <span class="hljs-keyword">sizeof</span>(buf), <span class="hljs-string">&quot;Item %d&quot;</span>, index);
  <span class="hljs-comment">//Display the string as text in the list item area</span>
  pListItem-&gt;setText(buf);
  <span class="hljs-comment">//If you have configured the list item &quot;Picture when selected&quot; in the ui file,</span>
  <span class="hljs-comment">//Then, by setting the selected state of the list item through the following line of code, you can control the list item to</span>
  <span class="hljs-comment">//display the corresponding state picture</span>
  pListItem-&gt;setSelected(<span class="hljs-literal">true</span>);
}
</code></pre>
</li>
<li><p><strong>Example 2. Set the display content of the list subitem</strong><br>If we use the list subitem, we can get the pointer of the list item by the following method, and then manipulate the list item through the newly obtained pointer.  </p>
<pre><code class="lang-C++"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">obtainListItemData_ListView1</span><span class="hljs-params">(ZKListView *pListView,ZKListView::ZKListItem *pListItem, <span class="hljs-keyword">int</span> index)</span> </span>{
  <span class="hljs-keyword">char</span> buf[<span class="hljs-number">32</span>] = {<span class="hljs-number">0</span>};
  <span class="hljs-comment">//The parameter index indicates which item of the list is currently drawn, starting from 0.</span>
  <span class="hljs-comment">//Here, we format the index value into a string</span>
  <span class="hljs-built_in">snprintf</span>(buf, <span class="hljs-keyword">sizeof</span>(buf), <span class="hljs-string">&quot;The first child of item %d&quot;</span>, index);
  <span class="hljs-comment">//We can get the pointer of the list item through the findSubItemByID() function and the ID of the list item</span>
  <span class="hljs-comment">//Same as the pListItem pointer, the list item pointer that is found can only be used in this function</span>
  ZKListView::ZKListSubItem* subitem1 = pListItem-&gt;findSubItemByID(ID_MAIN_SubItem1);
  <span class="hljs-keyword">if</span> (subitem1 != <span class="hljs-literal">NULL</span>) {
      <span class="hljs-comment">//Set the text of list item 1</span>
      subitem1-&gt;setText(buf);
  }

  <span class="hljs-built_in">snprintf</span>(buf, <span class="hljs-keyword">sizeof</span>(buf), <span class="hljs-string">&quot;The second child of item %d&quot;</span>, index);
  ZKListView::ZKListSubItem* subitem2 = pListItem-&gt;findSubItemByID(ID_MAIN_SubItem2);
  <span class="hljs-keyword">if</span> (subitem2 != <span class="hljs-literal">NULL</span>) {
      <span class="hljs-comment">//Set the text of list item 2</span>
      subitem2-&gt;setText(buf);
  }
}
</code></pre>
</li>
</ul>
<h2 id="the-idea-of-list">The idea of list</h2>
<p> In our system, the list is a mapping of a series of rule data. If we want to modify the list, such as adding a piece of data, or modifying a certain item, we should modify the data first, then trigger the refresh, and then the system will automatically call <code>obtainListItemData_ListView1</code> function, in this function, set the display content of the list according to the latest data.<br> This idea is reflected in the following example.</p>
<h2 id="sample-code">Sample code</h2>
<p>   We provide a sample list control, refer to the ListViewDemo project in <a href="demo_download.html#demo_download">Sample Code</a>.  </p>
<h3 id="sample-explanation">Sample explanation</h3>
<ol>
<li><p>Create a list control
We create two list controls in turn and try to set different properties and appearances.
<strong>Rotation List control:</strong> Turn on the cycle list option</p>
<p><img src="assets/list/listview_new_widget.gif" alt=""></p>
</li>
<li><p>Compile the project
This step will automatically generate the code related to the list to the corresponding <strong>Logic.cc</strong> file.<br>Specific operation reference <a href="how_to_compile_flywizOS.html#how_to_compile_flywizOS">&quot;How to compile FlywizOS project&quot;</a></p>
</li>
<li><p>The data structure needed to create the List1 list<br>In general, we will define a structure as a model for each data item in the list  </p>
<pre><code class="lang-c++"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> {
 <span class="hljs-comment">//The text displayed in the list item</span>
 <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* mainText;
 <span class="hljs-comment">//The text to be displayed in list sub item 1</span>
 <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* subText;
 <span class="hljs-comment">//Turn on/off logo</span>
 <span class="hljs-keyword">bool</span> bOn;
} S_TEST_DATA;
</code></pre>
<p>We define another structure array to simulate list data </p>
<pre><code class="lang-c++"><span class="hljs-keyword">static</span> S_TEST_DATA sDataTestTab[] = {
 { <span class="hljs-string">&quot;Test1&quot;</span>, <span class="hljs-string">&quot;testsub1&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test2&quot;</span>, <span class="hljs-string">&quot;testsub2&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test3&quot;</span>, <span class="hljs-string">&quot;testsub3&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test4&quot;</span>, <span class="hljs-string">&quot;testsub4&quot;</span>, <span class="hljs-literal">true</span> },
 { <span class="hljs-string">&quot;Test5&quot;</span>, <span class="hljs-string">&quot;testsub5&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test6&quot;</span>, <span class="hljs-string">&quot;testsub6&quot;</span>, <span class="hljs-literal">true</span> },
 { <span class="hljs-string">&quot;Test7&quot;</span>, <span class="hljs-string">&quot;testsub7&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test8&quot;</span>, <span class="hljs-string">&quot;testsub8&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test9&quot;</span>, <span class="hljs-string">&quot;testsub9&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test10&quot;</span>, <span class="hljs-string">&quot;testsub10&quot;</span>, <span class="hljs-literal">false</span> },
 { <span class="hljs-string">&quot;Test11&quot;</span>, <span class="hljs-string">&quot;testsub11&quot;</span>, <span class="hljs-literal">false</span> }
};
</code></pre>
</li>
<li><p>Add list function code</p>
<pre><code class="lang-c++"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getListItemCount_List1</span><span class="hljs-params">(<span class="hljs-keyword">const</span> ZKListView *pListView)</span> </span>{
   <span class="hljs-comment">//Use the length of the array as the length of the list</span>
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">sizeof</span>(sDataTestTab) / <span class="hljs-keyword">sizeof</span>(S_TEST_DATA);
}

<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">obtainListItemData_List1</span><span class="hljs-params">(ZKListView *pListView,ZKListView::ZKListItem *pListItem, <span class="hljs-keyword">int</span> index)</span> </span>{
   <span class="hljs-comment">//Get the pointer of the list sub item 1 and name it psubText</span>
   ZKListView::ZKListSubItem* psubText = pListItem-&gt;findSubItemByID(ID_MAIN_ListSub1);
   <span class="hljs-comment">//Get the pointer of the list sub item 2 and name it psubButton</span>
   ZKListView::ZKListSubItem* psubButton = pListItem-&gt;findSubItemByID(ID_MAIN_ListSub2);
   pListItem-&gt;setText(sDataTestTab[index].mainText);
   <span class="hljs-comment">//Take index as the subscript, get the corresponding structure from the array, get the text that needs to be displayed </span>
   <span class="hljs-comment">//from the structure, and finally set it to the corresponding list item</span>
   psubText-&gt;setText(sDataTestTab[index].subText);
   <span class="hljs-comment">//In the UI file, we set the selected image property for the list sub item 2</span>
   <span class="hljs-comment">//Here, according to the `bOn` value of the structure, the selected state of the list item is set, so that if the member</span>
   <span class="hljs-comment">//`bOn` is true, it is set to be selected, and the system will automatically display the selected picture previously set</span>
   psubButton-&gt;setSelected(sDataTestTab[index].bOn);
}

<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onListItemClick_List1</span><span class="hljs-params">(ZKListView *pListView, <span class="hljs-keyword">int</span> index, <span class="hljs-keyword">int</span> id)</span> </span>{
   <span class="hljs-comment">//When you click the index item in the list, modify the bOn variable to reverse bOn. In this way, every time you click on</span>
   <span class="hljs-comment">//the list, the picture will switch once</span>
   <span class="hljs-comment">//Note that the operation of picture switching is completed in the obtainListItemData_List1 function, and now we only </span>
   <span class="hljs-comment">//modify the value of this variable.</span>
   sDataTestTab[index].bOn = !sDataTestTab[index].bOn;
   <span class="hljs-comment">//The last sentence of code modified the structure data, and now we want to refresh the list immediately, and call</span>
   <span class="hljs-comment">//refreshListView to force a refresh</span>
   <span class="hljs-comment">//After the refresh is triggered, the system will call the two functions getListItemCount_List1 and </span>
   <span class="hljs-comment">//obtainListItemData_List1 again, so that the modified data corresponds to the list display.</span>
   mList1Ptr-&gt;refreshListView();
}
</code></pre>
</li>
<li>After adding the code, you can run it to see the actual effect.</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="pointer.html" class="navigation navigation-prev " aria-label="Previous page: Pointer">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="diagram.html" class="navigation navigation-next " aria-label="Next page: Diagram">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"List","level":"2.8","depth":1,"next":{"title":"Diagram","level":"2.9","depth":1,"path":"diagram.md","ref":"diagram.md","articles":[]},"previous":{"title":"Pointer","level":"2.7","depth":1,"path":"pointer.md","ref":"pointer.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"listview.md","mtime":"2020-09-28T02:35:07.804Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-28T03:44:57.542Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

